<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter [
<!ENTITY % BOOK_ENTITIES SYSTEM "QluMan_Guide.ent">
%BOOK_ENTITIES;
<!ENTITY % sgml.features "IGNORE">
<!ENTITY % xml.features "INCLUDE">
<!ENTITY % DOCBOOK_ENTS PUBLIC "-//OASIS//ENTITIES DocBook Character Entities V4.5//EN" "/usr/share/xml/docbook/schema/dtd/4.5/dbcentx.mod">
%DOCBOOK_ENTS;
]>
<chapter xmlns="http://docbook.org/ns/docbook"
	 xmlns:xlink="http://www.w3.org/1999/xlink"
	 xmlns:xi="http://www.w3.org/2001/XInclude"
	 xml:id="chap-GPUwizard">
  <title>GPU Wizard</title>
  <section xml:id="sec-GPUwizard-purpose">
    <title>Purpose</title>
    <para>
      When setting up slurm, the general configuration for the hardware is taken from the
      hosts Hardware Properties. But configuring the GPUs is more complex and has is done
      through the Slurm Gres Groups as part of the slurm config glass. They are used to
      specify the type and number of GPUs, to determine what slurm jobs they should run.
      All the necessary steps for the desired configuration of the nodes can be done manually
      and also be changed later through the slurm config dialog from the main window.
    </para>
    <para>
      As a convenient alternative, the <classname>GPU Wizard</classname> guides you
      through the necessary configuration steps. It uses the auto-detected GPUs of hosts to
      suggest their optimal configuration options. Furthermore, it tries to keep a balance
      between the available configuration strategies: Using templates, config sets or
      individual config classes.
    </para>
    <para>
      Note: For GPUs to be detected on a host the host must first boot a Qlustar image that
      includes the nvidia module. Otherwise GPUs will be missed. Only nodes where GPUs have
      been detected can be configured through the GPU Wizard.
    </para>
  </section>
  <section xml:id="sec-GPUwizard-host-selection">
    <title>Selecting Hosts</title>
    <para>
      The first step is to select the hosts that should be configured. Initially, the lists of
      hosts is empty. One or more of the four buttons at the bottom have to be pressed to
      pre-select hosts that should be considered. The <guibutton>Unconfigured</guibutton>
      button adds all hosts that do not have any GPU configured at all. The 
      <guibutton>Partially Configured</guibutton> button adds hosts that already
      have some GPUs configured correctly but not all of them. The <guibutton>Wrongly
      Configured</guibutton> button adds hosts, where the configured GPUs do not
      match the GPUs detected at boot, e.g. when the GPU cards have been swapped for a newer
      model on the hosts. Finally, the <guibutton>Selected</guibutton> button adds hosts, that
      have been selected in the enclosure view, including hosts that are configured correctly
      already.
    </para>
    <para>
      Note: Only hosts with auto-detected GPUs will be shown even if others are selected.
    </para>
    <para>
      Once one or more of the buttons are pressed, the affected hosts will show up in the
      table. To keep things compact, hosts with identically detected GPUs are grouped
      together and shown in <emphasis>hostlist syntax</emphasis>. Select one of the shown
      groups and click <guibutton>Next</guibutton> to start the configuration.
    </para>
<!--cbox(file: gpu_wizard/gpu_wizard__host_template__clone.png)-->
<!--cbox(file: gpu_wizard/gpu_wizard__config_set__assign.png)-->
<!--cbox(file: gpu_wizard/gpu_wizard__assign_group2.png)-->
<!--cbox(file: gpu_wizard/gpu_wizard__assign_group5.png)-->
<!--cbox(file: gpu_wizard/gpu_wizard__assign_gpus__directly.png)-->
<!--cbox(file: gpu_wizard/gpu_wizard__host_selection1.png)-->
<!--cbox(file: gpu_wizard/gpu_wizard__config_set__modify.png)-->
<!--cbox(file: gpu_wizard/gpu_wizard__assign_group4.png)-->
<!--cbox(file: gpu_wizard/gpu_wizard__assign_group3.png)-->
<!--cbox(file: gpu_wizard/gpu_wizard__config_set__clone.png)-->
<!--cbox(file: gpu_wizard/gpu_wizard__assign_gpus__existing.png)-->
<!--cbox(file: gpu_wizard/gpu_wizard__host_selection2.png)-->
<!--cbox(file: gpu_wizard/gpu_wizard__assign_gpus__new_set.png)-->
<!--cbox(file: gpu_wizard/gpu_wizard__assign_gpus__action.png)-->
<!--cbox(file: gpu_wizard/gpu_wizard__assign_group1.png)-->
  </section>
</chapter>
