<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter [
<!ENTITY % BOOK_ENTITIES SYSTEM "HPC_User_Manual.ent">
%BOOK_ENTITIES;
<!ENTITY % sgml.features "IGNORE">
<!ENTITY % xml.features "INCLUDE">
<!ENTITY % DOCBOOK_ENTS PUBLIC "-//OASIS//ENTITIES DocBook Character Entities V4.5//EN" "/usr/share/xml/docbook/schema/dtd/4.5/dbcentx.mod">
%DOCBOOK_ENTS;
]>
<chapter xmlns="http://docbook.org/ns/docbook"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      xml:id="chap-hpc-user-man-shell-setup">
  <title>Default Shell Setup</title>
  <section xml:id="sec-Introduction">
    <title>Shell initialization</title>
  <para>
    The BeoBox shell setup supports <application>tcsh</application>
    and <application>bash</application>. There are global
    initialization files that are used in both shells so the
    administrator only has to modify one file for environment
    variables, aliases and path variables. The global files are:
  </para>
  <itemizedlist>
    <listitem>
      <screen>
<filename>/etc/qlustar/common/skel/env</filename>
      </screen>
      <para>
	This file is used to add or modify environment variables that are
	not path variables. The syntax of this file is as follows: lines
	beginning with a hash sign (<code>#</code>) and empty lines are
	ignored. Every other line consists of a variable name and the
	value for this variable separated with a space. Example: the
	following line sets the variable <varname>VISUAL</varname> to
	<application>vi</application>:
      </para>
    </listitem>
    <listitem>
      <screen>
VISUAL vi
      </screen>
      <para>
	A file <filename>~/.ql-env</filename> in the user home directory
	can be used to define personal environment variables in the same
	manner.
      </para>
    </listitem>
    <listitem>
      <screen>
<filename>/etc/qlustar/common/skel/alias</filename>
      </screen>
      <para>
	This file is used to define shell aliases. It has the same syntax
	as the file <filename>env</filename> described above. Again, a
	personal <filename>~/.ql-alias</filename> file can define personal
	aliases.
      </para>
    </listitem>
    <listitem>
      <screen>
<filename>/etc/qlustar/common/skel/paths</filename>
      </screen>
      <para>
	This directory contains files identified with a name of the form
	<replaceable>&lt;varname&gt;</replaceable>.Linux. The
	<replaceable>&lt;varname&gt;</replaceable> is converted to upper
	case and specifies a ‘PATH like’ environment variable
	(e.g. <envar>PATH</envar>, <envar>MANPATH</envar>,
	<envar>LD_LIBRARY_PATH</envar>, <envar>CLASSPATH</envar>,
	. . . ). Each line in this file is a directory to add to this
	environment variable. If the line begins with a ’p’ followed by a
	space followed by a directory, then this directory is prepended to
	the path variable otherwise it is appended. A user can create
	his/her own <filename>~/.paths</filename> directory and so can use
	the same setup.
      </para>
    </listitem>
  </itemizedlist>
  <section xml:id="sec-bash-setup">
    <title>Bash Setup</title>
    <para>
      We provide an extensible <application>bash</application> setup
      and bash is the recommended login shell. The bash startup
      consists of global settings and user settings. Global settings
      are stored in files under
      <filename>/etc/qlustar/common/skel</filename>. User settings are stored in
      files in the corresponding home directory.
    </para>
    <variablelist>
      <varlistentry>
	<term>/etc/qlustar/common/skel/bash/bashrc</term>
	<listitem>
	  <para>
	    This file sources the other bash files. Do not modify.
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term>/etc/qlustar/common/skel/bash/bash-vars</term>
	<listitem>
	  <para>
	    This file is used for setting bash variables.
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term>/etc/qlustar/common/skel/bash/alias </term>
	<listitem>
	  <para>
	    This file defines bash aliases
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term>/etc/qlustar/common/skel/bash/functions</term>
	<listitem>
	  <para>
	    This file can be used to make bash functions available to
	    all users.
	  </para>
	</listitem>
      </varlistentry>
    </variablelist>
    <para>
      The file <filename>~/.bashrc</filename> also sources the
      following user specific files which have the same purpose as the
      global bash files.
    </para>
    <screen>
<filename>~/.bash/env</filename>

<filename>~/.bash/bash-vars</filename>

<filename>~/.bash/alias</filename>

<filename>~/.bash/functions</filename>
    </screen>
  </section>
  <section xml:id="sec-tcsh-setup">
    <title>Tcsh Setup</title>
    <para>
      A similar setup exists for the
      <application>tcsh</application>. The following files are used:
    </para>
    <variablelist>
      <varlistentry>
	<term>/etc/qlustar/common/skel/tcsh/tcshrc</term>
	<listitem>
	  <para>
	    This global tcshrc is sourced first and sources other
	    startup files
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term>/etc/qlustar/common/skel/tcsh/tcsh-vars</term>
	<listitem>
	  <para>
	    Used to set tcsh variables.
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term>/etc/qlustar/common/skel/tcsh/alias</term>
	<listitem>
	  <para>
	    Used to define tcsh aliases.
	  </para>
	</listitem>
      </varlistentry>
    </variablelist>
    <para>
      The file <filename>~/.tcshrc</filename> also sources the
      following user specific files which have the same purpose as the
      global <application>tcsh</application> files.
    </para>
    <screen>
<filename>~/.tcsh/alias</filename>

<filename>~/.tcsh/env</filename>

<filename>~/.tcsh/tcsh-vars</filename>
    </screen>
  </section>
  </section>
</chapter>
